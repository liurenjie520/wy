<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>网易云音乐解析</title>
		<meta name="viewport" content="width=device-width" />
		<link rel="stylesheet" href="style.css" />
	</head>

	<body style="background-color:#FFF0CD;">
		<form name="form1" method="post" action="">
			<label>
				输入网易云音乐的id，点击解析按钮
    <input type="text" name="textfield" id="textfield" style="width:560px;height:40px;background-color:#FFF0CD">
    <input type="button" style="width:150px;height:40px;background-color:#FFF0CD" name="button2" id="button2" value="解析" onclick="javascript: void var2pass();">
    
   
    
    
    </label>
			<!-- 绑定onclick事件 -->
			<label>
   <br />
      </label>
			<!-- 绑定onclick事件 -->
			<label>
				
    

    <input type="text" id="createurl2" style="width:560px;height:40px;background-color:#FFF0CD"/>
    
        
 <input type="button" name="button5" style="width:150px;height:40px;background-color:#FFF0CD" id="button5" value="点击直接下载" onclick="javascript: void xiazai();">
<input type="button" name="button5" style="width:150px;height:40px;background-color:#FFF0CD" id="button5" value="点击复制到剪切板" onclick="javascript: void copy();">

    </label>
		</form>

	</body>
	<script type="text/javascript">
		function var2pass() {

			var textid = document.getElementById('textfield').value;
			console.log(textid)
			fetch("https://api.muxiaoguo.cn/api/163music?id=" + textid)
				.then((response) => response.json())
				.then((data) => {
					document.getElementById("createurl2").value = data.data.mp3url;

				})
				.catch(console.error);

		}

		function xiazai() {
			var ddd = document.getElementById("createurl2").value
			window.open(ddd);
		}

		function copy() {
			var copy = document.getElementById("createurl2")
			copy.select(); // 选择对象
			document.execCommand("Copy"); // 执行浏览器复制命令
			alert("已复制好，可贴粘。");

		}
	</script>

</html>
